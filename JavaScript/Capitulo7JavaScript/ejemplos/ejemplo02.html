<!-- DOCTYPE html -->

<!-- Fig. 7.9: promedio2.html -->
<!-- Repetición controlada por centinela para calcular el promedio de una clase. -->
<html>
    <head>
        <meta charset = "utf-8">
        <button><a href="/menu.html">Regresar al menú</a></button>
        <title>Programa del promedio de una clase: repetición controlada por centinela</title>
        <script>

            var total; // suma de calificaciones
            var contadorCalificaciones; // número de calificaciones introducidas
            var calificacion; // calificación escrita por el usuario (como una cadena)
            var valorCalificacion; // valor de la calificación (convertido en entero)
            var promedio; // promedio de todas las calificaciones 

            // Fase de inicialización
            total = 0; //borra el total
            contadorCalificaciones = 0; // preparar para iterar 

            // Fase de procesamiento 
            // pedir la entrada y leer la calificación del ususario
            calificacion = window.prompt(
                "Escriba la calificación entera, -1 para salir:", "0");

                // convertir calificación de cadena en entero 
                valorCalificacion = parseInt ( calificacion );

                while (valorCalificacion != -1)
                {

                // sumar valorCalificacion al total 
                total = total + valorCalificacion;

                // sumar 1 a contadorCalificaciones
                contadorCalificaciones = contadorCalificaciones + 1;

                // pedir la entrada y leer calificación del usuario
                calificacion = window.prompt(
                    "Escriba la calificación entera, -1 para salir:", "0");

                // convertir calificación de cadena en entero 
                valorCalificacion = parseInt( calificacion);    
            } // fin de while 

            // Fase de terminación
            if ( contadorCalificaciones !=0)
            {
                promedio = total / contadorCalificaciones; 

                // muestra el promedio de las calificaciones de los exámenes
            document.writeln(
                "<h1>El promedio de la clase es " + promedio + "</h1>" );
            } // fin de if 

            else
                document.writeln( 
                    "<p>No se introdujeron calificaciones</p>" );
                
        </script>
    </head><body></body>
</html>